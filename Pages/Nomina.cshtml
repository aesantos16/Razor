@page
@model Razor.Practica2.Pages.NominaModel
@{ /// CALCULO AFP

                double AFP(double x)
                {
                    double CALCULO_AFP;
                    CALCULO_AFP = x * 0.0287;
                    if (CALCULO_AFP >= 269640)
                    {
                        CALCULO_AFP = 7738.67;
                    }
                    else
                    {

                        return CALCULO_AFP;
                    }

                    return CALCULO_AFP;
                }
                /// CALCULO ARS
                double ARS(double x)
                {
                    Double CALCULO_ARS;

                    if (x > 134820)
                    {
                        CALCULO_ARS = 4098.53;
                        return CALCULO_ARS;
                    }
                    else
                    {
                        CALCULO_ARS = x * 0.0304;
                        return CALCULO_ARS;
                    }
                }



                /// CALCULO SUMAR
                Double suma(double x, double y, double c)
                {
                    return x + y + c;
                }
                /// CALCULO Restar
                Double Restar(double x, double y, double c, double d)
                {
                    return x - y - c - d;

                }

                //CALCULO IRS
                double IRS(double calculo_irs)
                {
                    double x;
                    if (calculo_irs >= 72260.25)
                    {
                        x = (((calculo_irs - 72260.25) * 0.25) + 6648);
                        return x;
                    }
                    else
                    {
                        if (calculo_irs >= 52027.42)
                        {
                            x = (((calculo_irs - 52027.42) * 0.20) + 2601.33);
                            return x;
                        }
                        else
                        {

                            if (calculo_irs >= 34685)
                            {
                                x = ((calculo_irs - 34685) * 0.15);
                                return x;
                            }
                            else
                            {
                                x = 0;
                                return x;
                            }

                        }
                    }
                } }
<body>
    <h1>Nomina</h1>
    <table border="1">

        <tr>
            <th scope="col">Nombres</th>
            <th scope="col">Apellidos</th>
            <th scope="col">Cargo</th>
            <th scope="col">Salario Mensual</th>
            <th scope="col">Descuento AFP</th>
            <th scope="col">Descuento ARS</th>
            <th scope="col">Descuento ISR</th>
            <th scope="col">Total De  Descuentos</th>
            <th scope="col">Salario Neto</th>

        </tr>
        @foreach (var empleado in Model.Empleados)
        {
            <tr>
                <td>@empleado.Nombres_empleado</td>
                <td>@empleado.Apellidos_empleado</td>
                <td>@empleado.Cargo_empleado</td>
                <td>@empleado.Salario_mensual_empleado</td>
                <td>@AFP(Double.Parse(@empleado.Salario_mensual_empleado))</td>
                <td>@ARS(Double.Parse(@empleado.Salario_mensual_empleado))</td>
                <td>@IRS(@Restar(Double.Parse(@empleado.Salario_mensual_empleado), @AFP(Double.Parse(@empleado.Salario_mensual_empleado)), @ARS(Double.Parse(@empleado.Salario_mensual_empleado)), (0)))</td>
                <td>@suma(@AFP(Double.Parse(@empleado.Salario_mensual_empleado)), @ARS(Double.Parse(@empleado.Salario_mensual_empleado)), @IRS(@Restar(Double.Parse(@empleado.Salario_mensual_empleado), @AFP(Double.Parse(@empleado.Salario_mensual_empleado)), @ARS(Double.Parse(@empleado.Salario_mensual_empleado)), (0))))</td>
                <td>@Restar(Double.Parse(@empleado.Salario_mensual_empleado), @AFP(Double.Parse(@empleado.Salario_mensual_empleado)), @ARS(Double.Parse(@empleado.Salario_mensual_empleado)), @IRS(@Restar(Double.Parse(@empleado.Salario_mensual_empleado), @AFP(Double.Parse(@empleado.Salario_mensual_empleado)), @ARS(Double.Parse(@empleado.Salario_mensual_empleado)), (0)))) </td>
            </tr>
        }

    </table>

</body>